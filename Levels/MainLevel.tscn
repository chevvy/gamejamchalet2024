[gd_scene load_steps=12 format=3 uid="uid://c1dkh1vp3cdp0"]

[ext_resource type="Texture2D" uid="uid://cp2ynrnjf58se" path="res://Assets/Environment/Enviro_CockPit_intro.png" id="1_btio0"]
[ext_resource type="Texture2D" uid="uid://bc5rtwk7r4lhn" path="res://Assets/Environment/Enviro slice.png" id="2_70p3h"]
[ext_resource type="PackedScene" uid="uid://bn7ibigpaiqg1" path="res://Patient/Patient.tscn" id="3_4om8c"]
[ext_resource type="Script" path="res://PlayerManager.cs" id="3_c2rit"]
[ext_resource type="PackedScene" uid="uid://di3vopy26h5cr" path="res://Item/HealingItem.tscn" id="4_g47w6"]
[ext_resource type="PackedScene" uid="uid://bwsny8wxh0ku2" path="res://Character.tscn" id="4_gqalf"]
[ext_resource type="Script" path="res://Managers/GameManager.cs" id="5_htpyh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_og16h"]
size = Vector2(1280, 50)

[sub_resource type="Animation" id="Animation_ipwiv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlaneSection:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1348, 0)]
}

[sub_resource type="Animation" id="Animation_oucfm"]
resource_name = "plane_anim"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PlaneSection:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(0.378929, 1),
"update": 0,
"values": [Vector2(1348, 0), Vector2(-1764.56, 2.08165e-12)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Managers/GameManager")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(2),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"OnGameReady"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_h1ndd"]
_data = {
"RESET": SubResource("Animation_ipwiv"),
"plane_anim": SubResource("Animation_oucfm")
}

[node name="MainLevel" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Walls" type="Node" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Walls"]
position = Vector2(17, 349)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/StaticBody2D"]
shape = SubResource("RectangleShape2D_og16h")

[node name="StaticBody2D2" type="StaticBody2D" parent="Walls"]
position = Vector2(603, 110)
rotation = 1.56684

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/StaticBody2D2"]
shape = SubResource("RectangleShape2D_og16h")

[node name="StaticBody2D3" type="StaticBody2D" parent="Walls"]
position = Vector2(-602, 106)
rotation = 1.56684

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/StaticBody2D3"]
shape = SubResource("RectangleShape2D_og16h")

[node name="PlaneSection" type="Node2D" parent="."]
position = Vector2(1348, 0)

[node name="PlaneStart" type="Sprite2D" parent="PlaneSection"]
position = Vector2(76, -33)
scale = Vector2(0.45, 0.45)
texture = ExtResource("1_btio0")

[node name="PlaneBackground" type="Sprite2D" parent="PlaneSection"]
position = Vector2(1769, -1)
scale = Vector2(0.49, 0.49)
texture = ExtResource("2_70p3h")

[node name="Patient" parent="PlaneSection" instance=ExtResource("3_4om8c")]
position = Vector2(1769, 9.0003e-05)
scale = Vector2(1, 1)

[node name="HealingItem" parent="PlaneSection" instance=ExtResource("4_g47w6")]
position = Vector2(2107, 270)

[node name="SpawnPoints" type="Node" parent="."]

[node name="SpawnPointP1" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-440, 4)

[node name="SpawnPointP2" type="Marker2D" parent="SpawnPoints"]
position = Vector2(-228, 2)

[node name="SpawnPointP3" type="Marker2D" parent="SpawnPoints"]
position = Vector2(135, 20)

[node name="SpawnPointP4" type="Marker2D" parent="SpawnPoints"]
position = Vector2(347, -1)

[node name="EnvironmentAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_h1ndd")
}

[node name="Managers" type="Node" parent="."]

[node name="PlayerManager" type="Node" parent="Managers" node_paths=PackedStringArray("PlayerSpawnPoint")]
script = ExtResource("3_c2rit")
Character = ExtResource("4_gqalf")
PlayerSpawnPoint = [NodePath("../../SpawnPoints/SpawnPointP1"), NodePath("../../SpawnPoints/SpawnPointP2"), NodePath("../../SpawnPoints/SpawnPointP3"), NodePath("../../SpawnPoints/SpawnPointP4")]

[node name="GameManager" type="Node" parent="Managers" node_paths=PackedStringArray("AnimationPlayer")]
script = ExtResource("5_htpyh")
AnimationPlayer = NodePath("../../EnvironmentAnimationPlayer")
